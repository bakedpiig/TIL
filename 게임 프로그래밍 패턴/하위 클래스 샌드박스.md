# 하위 클래스 샌드박스
## 하위 클래스 샌드박스의 용도
상위 클래스가 제공하는 기능을 통해서 하위 클래스에서 행동을 정의한다.

## 패턴
* 상위 클래스는 추상 샌드박스 메서드와 여러 제공 기능을 정의한다. 제공 기능은 `protected`로 정의해서 하위 클래스용임을 명시한다.
* 하위 클래스는 샌드박스 메서드를 구현한다.

## 써야 하는 상황
* 클래스 하나에 하위 클래스가 많다.
* 상위 클래스는 하위 클래스가 필요로 하는 기능을 전부 제공할 수 있다.
* 하위 클래스 행동이 겹치는 게 많다.
* 하위 클래스 사이 혹은 하위 클래스와 나머지 코드와의 커플링을 줄이고 싶다.

## 주의 사항
* 상위 클래스와 하위 클래스가 커플링된다.

## 디자인 결정
* 기능 제공의 정도
    * 기능 제공이 없음
        * 하위 클래스에서 외부 시스템을 직접 호출해야 한다.
    * 하위 클래스가 필요로 하는 모든 기능을 제공
        * 외부 시스템과 하위 클래스가 커플링되지 않는다.
~~~
일반적인 원칙

1. 다수의 하위 클래스에서 사용하는 기능을 제공한다.
2. 외부 상태를 변경하는 행동의 기능을 제공한다.
3. 단순히 포워딩만 하는 기능은 제공하지 않는다. 다만, 캡슐화를 의도한다면 사용할 수 있다.
~~~

* 메서드의 제공 방법
    * 직접 제공
        * 상위 클래스 메서드의 개수가 많아진다.
        * 메모리를 더 적게 쓴다.
    * 상위 클래스의 멤버 변수 통해 제공
        * 상위 클래스 메서드의 개수가 적다.
        * 유지보수하기 더 쉽다.
        * 상위 클래스와 다른 시스템과의 커플링을 낮춘다.

* 상위 클래스가 객체를 얻는 방법
    * 생성자의 매개변수
        * 간단하다.
        * 상위 클래스의 상태가 하위 클래스에 노출된다.
    * 초기화 메서드
        * 캡슐화를 보존한다.
        * 개발자의 실수로 초기화 메서드를 부르지 않을 수 있다.
    * 정적 객체
        * 메모리를 더 적게 쓴다.
        * 간단하다.
    * 서비스 중개자