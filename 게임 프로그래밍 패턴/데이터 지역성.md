# 데이터 지역성
## 데이터 지역성의 용도
CPU 캐시를 최대한 활용활 수 있도록 데이터를 배치해 메모리 접근 속도를 높인다.

## 패턴
* 데이터 지역성을 높여, 즉 앞으로의 코드에 쓰여질 데이터를 연속적으로 배치하여 캐시를 활용한다.

## 써야 하는 상황
* 캐시 미스로 인한 성능 문제가 있다.

## 주의 사항
* 포인터를 사용한 추상화를 사용하면 데이터 지역성을 저하시킨다.

## 디자인 결정
* 다형성 여부
    * 사용하지 않음
        * 안전하고 쉽다.
        * 더 빠르다.
        * 유연하지 않다.
    * 종류별로 다른 배열에 넣음
        * 객체를 빈틈없이 담을 수 있다.
        * 정적 디스패치를 할 수 있다.
        * 여러 컬렉션을 관리해야 한다.
        * 모든 자료형을 알고 있어야 한다.
    * 하나의 컬렉션에 포인터를 모음
        * 유연하다.
        * 캐시 친화적이지 않다.

* 게임 개체 정의 (컴포넌트 패턴 사용 시)
    * 게임 개체 클래스가 자기 컴포넌트를 포인터로 들고 있을 때
        * 컴포넌트들을 연속된 배열에 저장할 수 있다.
        * 개체로부터 개체 컴포넌트를 쉽게 얻을 수 있다.
        * 컴포넌트를 메모리에서 옮기기가 어렵다.
    * 게임 개체 클래스가 컴포넌트를 ID로 들고 있을 때
        * 복잡하다.
        * ID를 통해 찾아야 하기 때문에 느리다.
        * 컴포넌트 관리자가 있어야 한다.
    * 게임 개체가 ID일 때
        * 개체가 단순해진다.
        * 여러 컴포넌트가 공유하는 상태, 작동을 둘 곳이 없어진다.
        * 개체 생명주기를 따로 관리하지 않아도 된다.
        * 특정 개체의 컴포넌트를 찾는 게 느릴 수 있다.